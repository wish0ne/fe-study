# Why Web Performance Optimization?

1. 사용자가 떠나지 않도록 하기 위해 = 수익 증대를 위해
   서비스가 느리면 사용자는 떠나감
2. 프론트엔드 개발자로서 경쟁력을 갖추기 위해

## 웹 성능 결정 요소

> 웹의 성능최적화 방법은 로딩성능과 렌더링성능을 최적화하는것

### 1. 로딩성능

각 리소스를 불러오는 성능

### 2. 렌더링 성능

불러온 리소스들을 화면에 보여주는 성능

> 따라서 성능 최적화 시 초점을 어떻게 빠르게 리소스를 불러오고 렌더링할지!
> => 브라우저가 서버랑 어떻게 통신하는지, 화면을 어떻게 그리는지 알아야함.

## 실습내용

### - 이미지 사이즈 최적화

어떤 이미즈 사이즈가 적절한 사이즈인지

### - code split

코드분할. 어떻게해야 코드를 효율적으로 분할할 수 있는지, 언제해야하는지

### - 텍스트 압축

페이지 접속 시 다양한 리소스들을 다운받기 전에 서버에서 이를 압축해서 다운받을 수 있음.

### - bottleneck 코드 최적화

특정 코드때문에 너무 느리게 실행되는 경우, 병목현상을 일으키는 코드를 어떻게 찾아내고 어떻게 해결할 수 있는지

> 1~3은 로딩 성능 최적화, 4는 렌더링 성능 최적화

## 분석 툴

### - 크롬 Network 탭

네트워크 리소스들의 상세한 정보들을 알려줌

### - 크롬 Performance 탭

웹페이지가 동작할때 실행되는 모든 작업들을 보여줌

### 크롬 light house

서비스가 성능적으로 어느정도 수준인지를 파악할 수 있음

- OPPORTUNITIES : 리소스 관점. 로딩 성능 최적화와 관련
- DIAGNOSTICS : 페이지 실행 관점. 렌더링 성능 최적화와 관련

### - webpack-bundle-analyze

웹팩 라이브러리. 번들링된 파일들이 어떤 코드를 담고있는지를 한눈에 보여줌

---

## 1. 이미지 사이즈 최적화

> light house > OPPORTUNITIES > Properly size images <br>
> 이미지를 적절한 사이즈로 압축해서 최적화하라.

실제 이미지의 사이즈와 렌더링되는 사이즈 비교, retina 디스플레이(같은 공간에 더 많은 픽셀을 그릴 수 있음) 고려하여 **너비 기준 렌더링 사이즈의 2배로 압축하는것이 적절함.**

크롬 개발자도구 -> 이미지 element 클릭했을때

- Rendered size : 렌더링되는 사이즈
- Intrinsic size : 실제 불러오는 이미지 사이즈

### 이미지를 어떻게 줄일 수 있을까?

이미지가 어디서 오는지부터 알아야함.

> API를 통해 전달되고 있음

API를 통해 전달되는 이미지는 어떻게 줄일 수 있을까?

> #### 이미지 CDN을 사용하는것

### CDN : Contents Delivery Network

물리적 거리의 한계를 극복하기 위해 소비자(사용자)와 가까운 곳에 컨텐츠 서버를 두는 기술

### Image CDN (image processing CDN)

이미지 CDN은 조금 다름. <br>
기본적인 CDN 개념 + 이미지를 사용자에게 보내기 전에 특정 형태로 가공해서 (ex 사이즈 줄이기, 포맷 변경) 처리과정을 거쳐 사용자에게 이미지를 전해주게 됨.

> 이미지 사이즈를 가공해서 사용자에게 전해주는 것

```
http://cdn.image.com?src=[img src]&width=200&height=100
```

이미지 CDN의 도메인 + 내가 전달하고자 하는 **원본 이미지** 소스 + 원하는 **결과 이미지**의 정보를 파라미터로 넘겨줌(&뒤)

- 이미지 CDN 서비스 (ex imgix)등 사용가능
